<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>のびるいぬ</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <style>
    body {
      width: 100%;
      overflow-x: scroll;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Segoe UI","Noto Sans Japanese","ヒラギノ角ゴ ProN W3", Meiryo, sans-serif;
    }
    * {
      white-space: nowrap;
    }
    button {
      width: 100px;
      height: 100px;
    }
    .suppadog {
      font-size: 2rem;
    }
  </style>
</head>
  <h1>のびるいぬ v0.0.1</h1>
  <p><span id="count-num">0</span>すっぱ = <span id="meter">0m</span></p>
<p class="suppadog">⊂ﾟＵ┬<span id='dog'>─</span>┬~</p>
<p>
<button onclick="suppa();">のばす</button>
</p>
  <p id="place"></p>
  <p><a id="twitter" href="">Twitterに投稿する</a></p>
  <script>
    let count = 0;
    function generateTwitterHref(count) {
      $('#twitter').attr("href", 'https://twitter.com/?status=' + 'すっぱいぬを' + count + '回伸ばしました！ https://hibikine.me/dog/ #のびるいぬ');
    }
    function suppa(){
      console.log('suppa');
      document.getElementById('dog').innerHTML += '─';
      document.getElementById('count-num').innerHTML = ++count;
      generateTwitterHref(count)
      const meter = 1 + count / 2;
      $('#meter').html(meter + 'm');
      const places = [
        {
          length: 10,
          name: 'へびすっぱいぬ'
        },
        {
          length: 100,
          name: 'へびすっぱいぬ'
        },
        {
          length: 1000,
          name: 'どらごんすっぱいぬ'
        },
        {
          length:10000,
          name: 'ゆめのなかのすっぱいぬ'
        },
        {
          length: 100000,
          name: 'いつかのすっぱいぬ'
        },
        {
          length:10000000,
          name:'すっぱいぬ…？'
        },
        {
          length:10000000000000,
          name: 'おめでとう！お前がすっぱいぬになるんだよ'
        }
      ];
      let lastPlacesIndex = 0;
      if (places[lastPlacesIndex].length <= meter) {
        $('#place').html(places[lastPlacesIndex].name);
        lastPlacesIndex++;
      }
    }
    generateTwitterHref(0);
  </script>
</html>
